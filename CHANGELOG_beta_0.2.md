# DND Campaign Manager - Beta 0.2 更新日志

## 更新内容

基于 beta 0.1 版本进行功能增强，所有原有功能保持可用。

### 新增功能: 安全删除
- 添加"删除文件"按钮，支持删除选中的文件或文件夹
- **安全机制**：删除操作仅从软件界面隐藏文件，不会真正删除磁盘上的文件
- 删除确认对话框，防止误操作
- 支持删除所有分类的文件（人物卡、怪物卡、地图、剧情）
- 支持删除 notes 分类中的子文件夹
- 隐藏信息保存在每个跑团的 `.hidden_files` 文件中

### Prompt 2: 常量整理
- 所有路径和分类相关的常量集中放在文件顶部
- 新增常量区域标记，便于维护
- 禁止在其他位置硬编码路径字符串

### Prompt 3: 文件列表排序
- 所有分类下的文件列表按文件名升序排序
- 不改变任何文件内容和目录结构

### Prompt 4: notes 支持子文件夹
- 仅 notes 分类支持子文件夹显示
- notes 下文件夹显示在文件列表最前，文件显示在后
- 文件夹显示格式为 "[DIR] 文件夹名"

### Prompt 5: notes 目录导航
- 在 notes 分类中双击文件夹可进入该文件夹
- 提供"返回上级"按钮，仅在 notes 分类且不在根目录时显示
- 支持多级目录导航

### Prompt 6: 地图预览优化
- 地图预览按右侧显示区域大小自适应缩放
- 保持图片宽高比，不裁切、不变形
- 动态适应窗口大小变化

### Prompt 7: 文本内容刷新
- 每次选择文本文件时，从磁盘重新读取内容
- 不使用缓存，确保显示最新内容

### Prompt 8: 文本错误处理
- 文本文件读取失败时，在右侧文本区域显示错误信息
- 不弹窗，不中断程序运行

### Prompt 9: 文件名合法性检查
- 新建文本文件时，禁止文件名包含以下字符：`/ \ : * ? " < > |`
- 输入非法字符时弹出错误提示

## 技术实现

- 保持原有架构不变
- 不拆分文件
- 不引入新依赖
- 不改变数据目录结构
- 所有 beta 0.1 功能保持可用

## 兼容性

- 完全兼容 beta 0.1 的数据结构
- 现有跑团数据无需迁移
- 所有原有功能正常工作
