#!/usr/bin/env python3
"""
é¢„è§ˆç³»ç»Ÿæ¼”ç¤ºè„šæœ¬
å±•ç¤ºæ–°çš„äº¤äº’å¼é¢„è§ˆåŠŸèƒ½
"""

import subprocess
import sys
from pathlib import Path


def demo_interactive_preview():
    """æ¼”ç¤ºäº¤äº’å¼é¢„è§ˆåŠŸèƒ½"""
    print("=== é¢„è§ˆç³»ç»ŸåŠŸèƒ½æ¼”ç¤º ===\n")
    
    print("ğŸ¯ æ–°åŠŸèƒ½ç‰¹æ€§ï¼š")
    print("  âœ… å¯åŠ¨å‰äº¤äº’å¼é€‰æ‹©å‰§æƒ…")
    print("  âœ… è‡ªåŠ¨å¯åŠ¨æœ¬åœ°HTTPæœåŠ¡å™¨")
    print("  âœ… æ™ºèƒ½ç›‘æ§æµè§ˆå™¨æ´»åŠ¨")
    print("  âœ… æµè§ˆå™¨å…³é—­åè‡ªåŠ¨åœæ­¢æœåŠ¡å™¨")
    print("  âœ… ç”¨æˆ·å‹å¥½çš„ç•Œé¢æç¤º")
    
    print("\nğŸ“‹ ä½¿ç”¨æ–¹æ³•ï¼š")
    print("  1. è¿è¡Œ: python tools/open_preview.py")
    print("  2. ä»åˆ—è¡¨ä¸­é€‰æ‹©è¦é¢„è§ˆçš„å‰§æƒ…")
    print("  3. æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€é¢„è§ˆé¡µé¢")
    print("  4. å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µï¼ŒæœåŠ¡å™¨è‡ªåŠ¨åœæ­¢")
    
    print("\nğŸ”§ æŠ€æœ¯å®ç°ï¼š")
    print("  â€¢ ä½¿ç”¨ threading å®ç°åå°æœåŠ¡å™¨")
    print("  â€¢ é€šè¿‡ HTTP è¯·æ±‚ç›‘æ§æµè§ˆå™¨æ´»åŠ¨")
    print("  â€¢ å¯é€‰çš„ psutil è¿›ç¨‹ç›‘æ§ï¼ˆæ›´æ™ºèƒ½ï¼‰")
    print("  â€¢ 15ç§’æ— æ´»åŠ¨è‡ªåŠ¨å…³é—­æœºåˆ¶")
    
    print("\nğŸ’¡ è§£å†³çš„é—®é¢˜ï¼š")
    print("  âŒ ä¹‹å‰ï¼šç›´æ¥æ‰“å¼€HTMLæ–‡ä»¶ï¼Œæµè§ˆå™¨å®‰å…¨é™åˆ¶å¯¼è‡´æ— æ³•åŠ è½½å›¾ç‰‡")
    print("  âœ… ç°åœ¨ï¼šè‡ªåŠ¨å¯åŠ¨HTTPæœåŠ¡å™¨ï¼Œå®Œç¾è§£å†³æ–‡ä»¶åè®®é™åˆ¶")
    print("  âŒ ä¹‹å‰ï¼šéœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡å™¨ï¼Œæ‰‹åŠ¨é€‰æ‹©å‰§æƒ…")
    print("  âœ… ç°åœ¨ï¼šä¸€é”®å¯åŠ¨ï¼Œäº¤äº’å¼é€‰æ‹©ï¼Œè‡ªåŠ¨æ¸…ç†")
    
    print("\nğŸš€ æƒ³è¦ä½“éªŒï¼Ÿè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š")
    print("  python tools/open_preview.py")
    
    choice = input("\næ˜¯å¦ç°åœ¨å°±ä½“éªŒæ–°åŠŸèƒ½ï¼Ÿ(y/N): ").strip().lower()
    if choice in ['y', 'yes']:
        print("\nå¯åŠ¨é¢„è§ˆç³»ç»Ÿ...")
        try:
            subprocess.run([sys.executable, "tools/open_preview.py"], cwd=Path(__file__).parent)
        except KeyboardInterrupt:
            print("\næ¼”ç¤ºç»“æŸ")
    else:
        print("æ¼”ç¤ºç»“æŸï¼Œéšæ—¶å¯ä»¥è¿è¡Œ python tools/open_preview.py ä½“éªŒï¼")


if __name__ == "__main__":
    demo_interactive_preview()